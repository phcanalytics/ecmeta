<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User guide â€¢ ecmeta</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="User guide">
<meta property="og:description" content="ecmeta">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ecmeta</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/guide.html">User guide</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.roche.com/RWDScodeshare/ecmeta">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="guide_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>User guide</h1>
            
            <h4 class="date">2021-09-14</h4>
      
      <small class="dont-index">Source: <a href="https://github.roche.com/RWDScodeshare/ecmeta/blob/master/vignettes/guide.Rmd"><code>vignettes/guide.Rmd</code></a></small>
      <div class="hidden name"><code>guide.Rmd</code></div>

    </div>

    
    
<div id="purpose" class="section level1">
<h1 class="hasAnchor">
<a href="#purpose" class="anchor"></a>Purpose</h1>
<p>This vignette describes how to use the <code>R</code> package to estimate treatment effects for a new single-arm study with an external control arm. See <code>vignette("methodology")</code> for details on the methodology.</p>
<p>Note that you will need to install JAGS as well as the <code>rjags</code> package (see the <a href="../index.html#jags">home page</a>). We will also use <code>bayesplot</code> and <code>ggplot2</code> to visualize our Bayesian models.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.roche.com/RWDScodeshare/ecmeta">"ecmeta"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://mc-stan.org/bayesplot/">"bayesplot"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org">"ggplot2"</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">25</span><span class="op">)</span></code></pre></div>
</div>
<div id="example-reference-studies" class="section level1">
<h1 class="hasAnchor">
<a href="#example-reference-studies" class="anchor"></a>Example reference studies</h1>
<p>We start by simulating an example set of 15 reference studies with no bias (<span class="math inline">\(\mu = 0\)</span>) and between study variability based on hazard ratios (HRs) uniformly distributed between 0.7 and 1.3. Standard errors of the log HRs are set based on the number of events in each arm (internal control and external control) ranging uniformly between 100 and 800.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Simulated example data</span>
<span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">15</span>
<span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">0</span> <span class="co"># True bias</span>
<span class="va">sigma</span> <span class="op">&lt;-</span> <span class="fl">.16</span> <span class="co"># True between study variability</span>
<span class="va">n_events_ec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="va">N</span>, <span class="fl">100</span>, <span class="fl">800</span><span class="op">)</span>
<span class="va">n_events_ic</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="va">N</span>, <span class="fl">100</span>, <span class="fl">800</span><span class="op">)</span>
<span class="va">loghr_ic_ec_var</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">/</span><span class="va">n_events_ic</span> <span class="op">+</span> <span class="fl">1</span><span class="op">/</span><span class="va">n_events_ec</span>
<span class="va">loghr_ic_ec_est</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">N</span>, mean <span class="op">=</span> <span class="va">mu</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">sigma</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="va">loghr_ic_ec_var</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Observed bias: "</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">loghr_ic_ec_est</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "Observed bias: 0.02"</code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Observed variability: "</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">loghr_ic_ec_est</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "Observed variability: 0.21"</code></pre>
</div>
<div id="model-estimation-using-reference-studies" class="section level1">
<h1 class="hasAnchor">
<a href="#model-estimation-using-reference-studies" class="anchor"></a>Model estimation using reference studies</h1>
<p>We estimate <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> with <code><a href="../reference/ecmeta.html">ecmeta()</a></code>, using JAGS to perform Markov Chain Monte Carlo (MCMC) sampling. We run 5 chains to help assess convergence. The thinning intervals and number of burn-in iterations can be controlled, but the model converges very quickly so we use every draw (i.e., <code>thin = 1</code> and <code>n_burnin = 0</code>). A uniform, Student t, or inverse gamma distribution can be used for the dispersion parameter (<span class="math inline">\(\sigma\)</span> with the uniform and Student t priors; <span class="math inline">\(\sigma^2\)</span> with an inverse gamma prior); we use a half-Cauchy distribution here, which is a Student t distribution with 1 degree of freedom.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">loghr_ic_ec</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/loghr_data.html">loghr_data</a></span><span class="op">(</span><span class="va">loghr_ic_ec_est</span>, <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">loghr_ic_ec_var</span><span class="op">)</span><span class="op">)</span>
<span class="va">loghr_ecmeta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ecmeta.html">ecmeta</a></span><span class="op">(</span>
  <span class="va">loghr_ic_ec</span>, 
  n_iter <span class="op">=</span> <span class="fl">1000</span>,
  n_chains <span class="op">=</span> <span class="fl">5</span>, n_burnin <span class="op">=</span> <span class="fl">0</span>, thin <span class="op">=</span> <span class="fl">1</span>,
  quiet <span class="op">=</span> <span class="cn">TRUE</span>, 
  prior_mu <span class="op">=</span> <span class="fu"><a href="../reference/priors.html">normal</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span>, 
  prior_scale <span class="op">=</span> <span class="fu"><a href="../reference/priors.html">student_t</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span>, <span class="fl">1</span><span class="op">)</span> <span class="co"># half-Cauchy</span>
<span class="op">)</span>
<span class="va">loghr_ecmeta</span></code></pre></div>
<pre><code>## Iterations = 1001:2000
## Thinning interval = 1 
## Number of chains = 5 
## Sample size per chain = 1000 
## 
##   param       mean     se_naive       se_ts         sd       2.5%        25%
## 1    mu 0.01004968 0.0008079500 0.000965979 0.05713069 -0.1052837 -0.0266317
## 2 sigma 0.20524271 0.0006998475 0.001291800 0.04948669  0.1264375  0.1702841
##          50%        75%     97.5%     rhat
## 1 0.01027317 0.04764843 0.1248047 1.000439
## 2 0.19934674 0.23272684 0.3199668 1.005193</code></pre>
<p>The default print method summarizes the posterior distributions of the parameters.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">loghr_ecmeta</span></code></pre></div>
<pre><code>## Iterations = 1001:2000
## Thinning interval = 1 
## Number of chains = 5 
## Sample size per chain = 1000 
## 
##   param       mean     se_naive       se_ts         sd       2.5%        25%
## 1    mu 0.01004968 0.0008079500 0.000965979 0.05713069 -0.1052837 -0.0266317
## 2 sigma 0.20524271 0.0006998475 0.001291800 0.04948669  0.1264375  0.1702841
##          50%        75%     97.5%     rhat
## 1 0.01027317 0.04764843 0.1248047 1.000439
## 2 0.19934674 0.23272684 0.3199668 1.005193</code></pre>
<div id="diagnostics" class="section level2">
<h2 class="hasAnchor">
<a href="#diagnostics" class="anchor"></a>Diagnostics</h2>
<p>Its a good idea to assess the model to ensure it converged. We could see from the summaries above that the R-hats were very close to 1, which suggests that the chains were converging.</p>
<p>We also recommend using the <code>bayesplot</code> package to produce diagnostic plots (note, however, that in order to keep the package light we donâ€™t import <code>bayesplot</code>, so you will need to install it yourself). Objects returned by <code><a href="../reference/ecmeta.html">ecmeta()</a></code> have <code><a href="https://rdrr.io/r/base/array.html">as.array()</a></code> methods so that they can be passed to any <code>bayesplot</code> function that accepts an object with an <code><a href="https://rdrr.io/r/base/array.html">as.array()</a></code> method (e.g., <code><a href="https://mc-stan.org/bayesplot/reference/MCMC-traces.html">bayesplot::mcmc_trace()</a></code>). The trace plot suggests that the chain mixed well and that there were no issues with convergence.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://mc-stan.org/bayesplot/reference/MCMC-traces.html">mcmc_trace</a></span><span class="op">(</span><span class="va">loghr_ecmeta</span><span class="op">)</span></code></pre></div>
<p><img src="guide_files/figure-html/ecmetaTrace-1.png" width="700"></p>
<p>We can also plot the draws from the posterior distribution of <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://mc-stan.org/bayesplot/reference/MCMC-distributions.html">mcmc_hist</a></span><span class="op">(</span><span class="va">loghr_ecmeta</span>, binwidth <span class="op">=</span> <span class="fl">.0005</span><span class="op">)</span></code></pre></div>
<p><img src="guide_files/figure-html/ecmetaHist-1.png" width="700"></p>
</div>
</div>
<div id="model-prediction-for-new-study" class="section level1">
<h1 class="hasAnchor">
<a href="#model-prediction-for-new-study" class="anchor"></a>Model prediction for new study</h1>
<p>We now consider a new study in which the estimated HR was 0.8 and there were 250 events in the treatment arm and 300 events in the control arm. We can therefore approximate the variance of the log HR as 1/250 + 1/300 (although in a real application with propensity score methods the standard error would likely be estimated via bootstrapping or from a closed form approximation).</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_loghr_trt_ec</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/loghr_data.html">loghr_data</a></span><span class="op">(</span>
  estimate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="fl">.8</span><span class="op">)</span>,
  standard_error <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">250</span> <span class="op">+</span> <span class="fl">1</span><span class="op">/</span><span class="fl">300</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>Predictions of the true log HR for a hypothetical scenario in which an internal control arm existed are predicted using (i) the estimated log HR above, <span class="math inline">\(\hat{\lambda}_{TRTvEC} = 0.8\)</span> and (ii) the model for <span class="math inline">\(\hat{\lambda}_{ICvEC}\)</span> fit above with <code><a href="../reference/ecmeta.html">ecmeta()</a></code> using the reference studies.</p>
<p>Specifically, we first use MCMC to draw samples from <span class="math inline">\(\lambda_{TRTvEC}\)</span> where <span class="math inline">\(\hat{\lambda}\)</span> is an estimate of a log HR and <span class="math inline">\(\lambda\)</span> is the true underlying parameter (see <code>vignette("methodology")</code> for an explanation of the distinction between true and estimated HRs). These draws are then combined with the draws of <span class="math inline">\(mu\)</span> and <span class="math inline">\(\sigma\)</span> to (i) draw samples from the posterior predictive distribution of <span class="math inline">\(\lambda_{ICvEC}\)</span> and (ii) then, to compute, <span class="math inline">\(\lambda_{TRTvIC} = \lambda_{TRTvEC} - \lambda_{ICvEC}\)</span>. The quantity <span class="math inline">\(\lambda_{TRTvIC}\)</span> effectively adjusts the distribution of <span class="math inline">\(\lambda_{TRTvEC}\)</span> for the bias and between study variability estimated from the reference studies.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">loghr_new</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>
  <span class="va">loghr_ecmeta</span>,
  newdata <span class="op">=</span> <span class="va">new_loghr_trt_ec</span>,
  quiet <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>
<span class="va">loghr_new</span></code></pre></div>
<pre><code>## Posterior sampling was performed for the true log HR of the treatment 
## relative to the external control ('loghr_trt_ec') with the following settings:
## 
## Iterations = 1:1000
## Thinning interval = 1 
## Number of chains = 5 
## Sample size per chain = 1000 
## 
## The estimates of 'mu' and 'sigma' were used to draw the true log HR of the 
## internal control relative to the external control ('loghr_ic_ec'), which was 
## in turn, used to adjust 'log_trt_ec' to obtain the predicted log HR 
## for the treatment relative to a hypothetical internal control ('loghr_trt_ic').
## 
## Summaries of the posterior distributions are displayed below:
##          param        mean    se_naive         sd       2.5%        25%
## 1 loghr_trt_ic -0.23758006 0.003343845 0.23644552 -0.7164481 -0.3861098
## 2 loghr_trt_ec -0.22614351 0.001219911 0.08626074 -0.3905472 -0.2857715
## 3  loghr_ic_ec  0.01143655 0.003102722 0.21939557 -0.4267720 -0.1273988
##            50%         75%       97.5%     rhat
## 1 -0.238199984 -0.08314489  0.23571650       NA
## 2 -0.226472638 -0.16678924 -0.05761753 1.001748
## 3  0.005975668  0.14775068  0.45449840       NA</code></pre>
<div id="diagnostics-1" class="section level2">
<h2 class="hasAnchor">
<a href="#diagnostics-1" class="anchor"></a>Diagnostics</h2>
<p>Similar to above, we inspect the trace of <span class="math inline">\(\lambda_{TRTvEC}\)</span> and detect no issues.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://mc-stan.org/bayesplot/reference/MCMC-traces.html">mcmc_trace</a></span><span class="op">(</span><span class="va">loghr_new</span><span class="op">)</span></code></pre></div>
<p><img src="guide_files/figure-html/unnamed-chunk-1-1.png" width="700"></p>
</div>
<div id="hazard-ratios" class="section level2">
<h2 class="hasAnchor">
<a href="#hazard-ratios" class="anchor"></a>Hazard ratios</h2>
<p>The<code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> method for the prediction object can exponentiate the log HRs to produce posterior summaries of the HRs. The observed bias in our reference studies was small (<span class="math inline">\(\mu\)</span> close to 0), so the means of <span class="math inline">\(\lambda_{TRTvIC}\)</span> and <span class="math inline">\(\lambda_{TRTvEC}\)</span> are very similar as well. However, <span class="math inline">\(\lambda_{TRTvIC}\)</span> has a considerably wider distribution due to the assumed between study variability.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">loghr_new</span>, exponentiate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##       param      mean    se_naive         sd      2.5%       25%       50%
## 1 hr_trt_ic 0.8109941 0.002798689 0.19789720 0.4884842 0.6796959 0.7880451
## 2 hr_trt_ec 0.8005806 0.000980652 0.06934257 0.6766865 0.7514343 0.7973412
## 3  hr_ic_ec 1.0362460 0.003302685 0.23353512 0.6526124 0.8803825 1.0059936
##         75%     97.5%     rhat
## 1 0.9202178 1.2658154       NA
## 2 0.8463780 0.9440109 1.001748
## 3 1.1592238 1.5753831       NA</code></pre>
</div>
</div>
<div id="quicker-simulations" class="section level1">
<h1 class="hasAnchor">
<a href="#quicker-simulations" class="anchor"></a>Quicker simulations</h1>
<p>In some cases (e.g., when running simulations) it might be useful to simulate predictions for the new study very quickly. In this case, we can use a maximum likelihood based approach instead of the Bayesian approach described above.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">loghr_ecmeta_ml</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ecmeta.html">ecmeta</a></span><span class="op">(</span><span class="va">loghr_ic_ec</span>, method <span class="op">=</span> <span class="st">"ml"</span><span class="op">)</span>
<span class="va">loghr_ecmeta_ml</span></code></pre></div>
<pre><code>## Parameters:
##   param   estimate         se        2.5%     97.5%
## 1    mu 0.01207288 0.05049343 -0.08689243 0.1110382
## 2 sigma 0.17843211 0.03999656  0.11499300 0.2768692</code></pre>
<p>The results are similar to those from the Bayesian approach, although the estimates of <span class="math inline">\(\sigma\)</span> are smaller using maximum likelihood, a discrepancy that becomes increasingly small as the number of reference studies increases.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">loghr_new_ml</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">loghr_ecmeta_ml</span>, newdata <span class="op">=</span> <span class="va">new_loghr_trt_ec</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">loghr_new</span>, exponentiate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##       param      mean    se_naive         sd      2.5%       25%       50%
## 1 hr_trt_ic 0.8109941 0.002798689 0.19789720 0.4884842 0.6796959 0.7880451
## 2 hr_trt_ec 0.8005806 0.000980652 0.06934257 0.6766865 0.7514343 0.7973412
## 3  hr_ic_ec 1.0362460 0.003302685 0.23353512 0.6526124 0.8803825 1.0059936
##         75%     97.5%     rhat
## 1 0.9202178 1.2658154       NA
## 2 0.8463780 0.9440109 1.001748
## 3 1.1592238 1.5753831       NA</code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">loghr_new_ml</span>, exponentiate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##       param      mean    se_naive         sd      2.5%       25%       50%
## 1 hr_trt_ic 0.8130503 0.005437369 0.17194471 0.5320176 0.6942279 0.7943682
## 2 hr_trt_ec 0.8026759 0.002162067 0.06837055 0.6820539 0.7522157 0.7994061
## 3  hr_ic_ec 1.0234666 0.006258237 0.19790285 0.7029402 0.8850287 1.0048856
##         75%     97.5%
## 1 0.9087986 1.1781100
## 2 0.8463504 0.9479453
## 3 1.1408093 1.4759664</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Devin Incerti, Michael Bretscher, Ray Lin, Chris Harbron.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
